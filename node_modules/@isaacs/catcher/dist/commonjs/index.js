"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.catchWrap = exports.catcher = void 0;
const stlProp = Object.getOwnPropertyDescriptor(Error, 'stackTraceLimit');
const hasSTL = stlProp && stlProp.writable && typeof stlProp.value === 'number';
function catcher(fn, caughtValue) {
    const originalStackTraceLimit = Error.stackTraceLimit;
    /* c8 ignore next */
    if (hasSTL)
        Error.stackTraceLimit = 0;
    try {
        return fn();
    }
    catch {
        return caughtValue;
        /* c8 ignore next */
    }
    finally {
        /* c8 ignore next */
        if (hasSTL)
            Error.stackTraceLimit = originalStackTraceLimit;
    }
}
exports.catcher = catcher;
function catchWrap(fn, caughtValue) {
    return (...a) => catcher(() => fn(...a), caughtValue);
}
exports.catchWrap = catchWrap;
//# sourceMappingURL=index.js.map